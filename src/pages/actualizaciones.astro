---
import Hr from "../components/Hr.astro";
import TextSection from "../components/TextSection.astro";
import Layout from "../layouts/Layout.astro";

import { db, News } from "astro:db";
const noticias = await db.select().from(News);
---

<Layout
  title="Actualizaciones y Novedades - ProgresoRP Servidor"
  description="Explora las actualizaciones y novedades más recientes del servidor ProgresoRP. Mantente al día con los emocionantes cambios y mejoras que hemos implementado para ofrecerte la mejor experiencia de juego. Desde nuevas funciones hasta ajustes en el rendimiento, aquí encontrarás todo lo que necesitas saber para estar a la vanguardia en nuestro servidor. ¡No te pierdas ninguna actualización importante y únete a la acción en ProgresoRP hoy mismo!"
>
  <Hr />
  <TextSection
    text="ACTUALIZACIONES Y NOVEDADES - PROGRESORP"
    subtext="Descubre las últimas mejoras y novedades en ProgresoRP. Mantente al tanto de los emocionantes cambios para una experiencia de juego aún mejor. ¡Únete a la acción hoy!"
  />
  <hr
    class="mt-2 mb-12 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-neutral-500 to-transparent opacity-25 dark:via-neutral-400"
  />
  <div class="flex flex-col gap-4">
    {
      noticias
        .reverse()
        .map((noticia, index) => (
          <div class={`bg-[#B1DAF8]/10 bg-blur w-full backdrop-blur backdrop-filter p-4 rounded-md shadow-xl flex flex-col items-start gap-2 ${index < 3 ? 'col-span-1' : 'col-span-2'}`}>
            <span class="text-xl tabular-nums font-pricedown">{noticia.date}</span>
            <p class="text-pretty opacity-75">{noticia.text}.</p>
          </div>
        ))
    }
  </div>