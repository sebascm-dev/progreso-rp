import"./DropdownNavBar.astro_astro_type_script_index_0_lang.C22dg0lO.js";async function g(n,t,a){const{callbackUrl:e=window.location.href,redirect:r=!0}=t??{},{prefix:o="/api/auth",...s}=t??{},i=n==="credentials",w=i||n==="email",d=`${`${o}/${i?"callback":"signin"}/${n}`}?${new URLSearchParams(a)}`,u=await fetch(`${o}/csrf`),{csrfToken:f}=await u.json(),l=await fetch(d,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...s,csrfToken:f,callbackUrl:e})}),c=await l.clone().json(),h=new URL(c.url).searchParams.get("error");if(r||!w||!h){window.location.href=c.url??e,c.url.includes("#")&&window.location.reload();return}return l}async function m(n){const{callbackUrl:t=window.location.href,prefix:a="/api/auth"}=n??{},e=await fetch(`${a}/csrf`),{csrfToken:r}=await e.json(),i=(await(await fetch(`${a}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:r,callbackUrl:t})})).json()).url??t;window.location.href=i,i.includes("#")&&window.location.reload()}window.signIn=g;window.signOut=m;window.onload=function(){var n=new Date,t=n.getMonth()+1,a=n.getDate(),e=a<10?a.toString().padStart(2,"0"):a.toString(),r=t<10?t.toString().padStart(2,"0"):t.toString(),o=document.getElementById("fechaActual");o&&(o.value=e+"/"+r)};
